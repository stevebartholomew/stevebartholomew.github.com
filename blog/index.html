
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Stephen Bartholomew: Programmer</title>
  <meta name="author" content="Stephen Bartholomew">

  
  <meta name="description" content="Work on the Reallyenglish mobile app is going well as the team prepares for the upcoming official release on Android. After working through bugs on &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://stephenbartholomew.co.uk/blog">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://stephenbartholomew.co.uk/atom.xml" rel="alternate" title="Stephen Bartholomew: Programmer" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->

  
</head>

<body   >
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://twitter.com/sbartholomew" target="_new">Twitter</a></li>
  <li><a href="http://github.com/stevebartholomew" target="_new">Github</a></li>
  <li><a href="http://stephenbartholomew.co.uk/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<ul class="main-navigation">
  
    <li><a href="/">&laquo; Stephen Bartholomew</a></li>
  
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/22/dev-diary-22nd-august-2014/">Dev Diary - 22nd August 2014</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-22T12:33:00+01:00" pubdate data-updated="true">Aug 22<span>nd</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Work on the <a href="http://www.reallyenglish.com">Reallyenglish</a> mobile app is going well as the team prepares for the upcoming official release on Android. After working through bugs on the platform I&#8217;m actually really preferring a lot of the toolset that comes with Android over iOS.</p>

<p>Aside from the day job, things have been rather Go-focused.</p>

<h2>Podcast app: Adding subscriptions</h2>

<p>I&#8217;m keeping the subscriptions/directory side of things on the server at the moment.  Initially I wrote the directory search API in node but on <a href="http://twitter.com/alinajaf">Ali</a>&#8217;s suggestion I tried out <a href="http://www.golang.org">Go</a>. Turns out, I <em>really</em> like it.</p>

<p>Go is super powerful while taking care of some of the more house-keepy parts of something like C. A more concurrent style of programming is actively encouraged in the language through nice abstractions. You can let Go deal with stuff like load balancing between CPUs but it doesn&#8217;t feel like you&#8217;re being protected from reality.</p>

<p>I also built a basic version of the podcast search UI for the Android app. Starting to get a feel for how activities and fragments fit together. When I hooked up the UI to the directory service I was pleasantly surprised that Android threw an exception when I tried accessing the network on the main thread on my first pass. Quite a change for the platform.</p>

<h2>Crypto Challenges</h2>

<p>I had a really good time Wednesday when I attended <a href="http://twitter.com/alinajaf">Ali</a>&#8217;s workshop/coplay working through <a href="http://cryptopals.com/">the matasano crypto challenges</a>.  A few of us hooked up in a chat room and chatted as we worked through the challenges, sharing ideas as we went. We all chose to use Go which proved really good for the task.</p>

<p>Ali also doubled the earnings from the ticket price and donated the lot to <a href="http://www.eavesforwomen.org.uk/">Eaves</a> - what a great guy!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/08/03/from-subtle-sexist-to-aspiring-feminist/">From Subtle Sexist to Aspiring Feminist</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-08-03T22:23:00+01:00" pubdate data-updated="true">Aug 3<span>rd</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I always just <em>assumed</em> I was a feminist. All of my friends as a kid were girls. I’ve always had a very equal relationship with my wife and never thought that there were specific roles that women should be limited to.</p>

<p>However, I recently started to learn about the more nuanced elements of sexism &amp; feminism. Looking back on my opinions I’m kinda appalled.</p>

<h2>Women in the Workplace</h2>

<p>For a number of years in my 20s I ran a small web development agency. We never got big enough to really hire outside of a couple of freelancers but it was just a given that we wouldn’t hire women.</p>

<p>It wasn’t because we thought that women don’t make good engineers - they were just too… complicated.</p>

<p>I kid you not - the two biggest concerns in my mind were:</p>

<ul>
<li>Pregnancy</li>
<li>Workplace relationships</li>
</ul>


<p>What.The.Fuck.</p>

<p>In my early 20s I remember thinking about how men &amp; women were fundamentally designed differently: women are clearly better suited to homemaking/babies and men make the money. Just look at cavemen - just logical right? I so vividly remember the thought process and how it made perfect sense.</p>

<p>So why am I saying all this. Kinda wondering that myself reading it back.</p>

<h2>Facing the Truth</h2>

<p>It’s like this: I think of myself a reasonable person. I would never in my life post the kinda of bile and hate I see some posting in forums and comment sections. But to say that I haven’t actively contributed to the problems women face would be denial.</p>

<p>Even earlier this year I was pretty much in the ‘not all men’ &amp; ‘this isn’t equality’ camp but something made me stop and listen for a while. I talked to my wife, I followed a load of women on twitter and started reading.</p>

<p>I came to understand why this isn’t a simple matter of making things ‘equal’ on the surface. It was like a punch to the gut when I read <a href="http://www.xojane.com/issues/feminism-men-practical-steps">this article</a>:</p>

<blockquote>“Get in the habit of treating your maleness as an unearned privilege”</blockquote>


<p>But then I thought about it for 5 minutes. Men and women are born equal but men are instantly given an advantage in society.  Girls are weaker. Girls cannot handle certain subjects. Girls should dress/act a certain way.  Women should take more care when going out with friends. Women should expect sexual advances from men. And on and on.</p>

<h2>&#8220;Equality&#8221; and Debt</h2>

<p>Absolute equality would be totally awesome but it’s an unreasonable expectation. The opinions of society don’t change overnight and the cultural memory that women have is not broken by just saying “hey we’re all equal now!”.</p>

<p>Imagine we’re playing a game where we all stack playing cards in a tower to see who builds one with 6 rows first. The only thing is that the cards are on top of a mountain you have to climb up first.  As men, we’re already at the top saying “HEY - WE’RE ALL EQUAL NOW - YOU CAN TOTALLY PLAY THE GAME WITH US NOW - 1,2,3 GO!”.</p>

<p>Weird analogy? Maybe.</p>

<p>Basically, we have a debt to pay. It’s really the only way to address balance in any diversity issue but so few people understand this. The term ‘privilege’ is despised by many but understanding it is key to making a real difference.</p>

<p>Men can actually help here but we’re going to have to accept the hard stuff along the way.</p>

<p>Before you get angry, before you feel hard done by or offended - just stop. No one is taking your job away or threatening your life. Just suck it up and try to understand what’s really going on here. Then see how you can help.</p>

<p>We&#8217;re going to hear things that challenge us and we&#8217;re not going to get it right every time but worthwhile change is often the hardest.  I&#8217;m personally so underqualified to be talking about any of this but I wanted to say <em>something</em>.</p>

<p>To hear from people who actually know what they&#8217;re talking about, start here: <a href="http://www.xojane.com/issues/feminism-men-practical-steps">35 Practical steps men can take to support Feminism</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/07/11/dev-diary-11th-july-2014/">Dev Diary - 11th July 2014</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-07-11T17:17:00+01:00" pubdate data-updated="true">Jul 11<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Javascript Debugging Joy</h2>

<p>I&#8217;m way late to the party on this - I just discovered the <code>debugger</code> command: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/debugger">debugger - JavaScript | MDN</a></p>

<p>You get an analysis of the current callstack and can interact with the app within the scope <code>debugger</code> was called.</p>

<p>After spending quite a bit of time in Android studio where this is a common part of debugging workflow, this is a very welcome addition to my toolset.</p>

<h2>Android</h2>

<p>Speaking of Android, I&#8217;ve been working my way through the <a href="http://www.bignerdranch.com/we-write/android-programming">Big Nerd Ranch&#8217;s Android book</a> in preparation for starting development of a side project I&#8217;m kicking off in the next few weeks.</p>

<p>Despite the <a href="/blog/2014/04/25/dev-diary-25th-april-2014/">positive parts of Xamerin</a>, I&#8217;ve chosen to go native.  I&#8217;m keen to learn Java and the native Android platform so it&#8217;s a much better choice for me right now.</p>

<p>So far I&#8217;m really enjoying Java. As <a href="http://blog.existentialize.com/better-java.html">Sean Cassidy points out</a> Java might not be as bad as many would have you think.</p>

<h2>Old Code</h2>

<p>I was amused and slight embarrassed to come across some old open source code of mine from 2002: <a href="http://code.activestate.com/recipes/125901-php-mysql-search-class/">PHP MySQL Search Class</a>.</p>

<p>My lack of competence with SQL shines through as I pull down the <em>entire table</em> of data and do the filtering in PHP.</p>

<h2>Watching</h2>

<p>Philip Roberts&#8217;s talk on the <a href="http://vimeo.com/96425312">Javascript runtime</a> is required viewing for anyone working with Javascript.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/29/the-right-lines/">The Right Lines</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-29T09:49:00+01:00" pubdate data-updated="true">Jun 29<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I just pushed some code that fixed some fairly major issues I discussed in <a href="/blog/2014/06/27/dev-diary-27th-june-2014/">Friday&#8217;s Dev Diary</a>. This amounted to about 4 hours work but it summed up to around 5 lines changed in production code.</p>

<p>It would have been easy to jump in and start panic hacking.  However, most of that 4 hours was spent manual testing, proving/debunking assumptions, reading documentation, experimenting etc.</p>

<p>I&#8217;m reminded that so much of programming, like any other craft, is about knowing the <em>right</em> lines to write - not how many.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/27/dev-diary-27th-june-2014/">Dev Diary - 27th June 2014</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-27T07:32:00+01:00" pubdate data-updated="true">Jun 27<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>App Store Approval</h2>

<p>We finally got App store approval! We had low expectations about Apple&#8217;s turnaround but our resubmission was approved within a few hours. After the various rejections, subsequent unplanned development and uncertainty, this has been a huge relief for the team. Of course we&#8217;re a few days from actual users getting their hands on it - then the real fun starts&#8230;</p>

<h2>More Testing</h2>

<p>As I&#8217;ve discussed <a href="/blog/2013/12/14/automated-ui-testing-with-cucumber-for-cordova-phonegap-apps/">before</a> our team is very committed to testing. This week however I&#8217;ve realised just how easy it is to miss regressions when your app is in flux. In particular two things stood out that we&#8217;re going to address immediately:</p>

<p><strong> We missed some fairly likely scenarios in our integration specs </strong><br/>
Testing use cases that involve offline > online transistions can be tough and we missed a particular case that had been tested to death manually when we first implemented. However, a point upgrade of one library introduced a regression that broke this use case. Our automated specs missed it.</p>

<p>Thankfully, <a href="http://appium.io/">Appium 1.0</a> made testing cases like this a whole lot easier so we can fix it but this shows that even with a motivated team, it&#8217;s easy to miss things if the friction to testing is high.</p>

<p>More broadly, we&#8217;ve noticed that our integration specs cover a lot of micro use cases instead of more closely simulating a user interacting with the app. Our plan is to simplify with full stack pathways through the app instead of individually specing each item of functionality seperately.</p>

<p><strong> Our internal staff testers didn&#8217;t really test until we got approval </strong><br/>
One of the company&#8217;s marketing people found the regression while testing after we announced App store approval. This was great but I was disappointed that we hadn&#8217;t had more people testing against the beta builds that have been pushed out for the past few months. This week has been great for digging out bugs but many could have been spotted and dealt with weeks ago rather than just before launch.</p>

<p>In an ideal world we&#8217;d be able to push out to a team of dedicated testers which may be a direction we&#8217;ll go in. We&#8217;ll probably also chat to the staff and see if there&#8217;s any way we can make things easier for them to pick up during development.</p>

<h2>Charles Proxy</h2>

<p>One bug that I found occurred when the device lost connection during a download of data. The app should cope with this but I found myself in a constant loading state while testing the app on a train. I used <a href="http://www.charlesproxy.com/">Charles proxy</a> to try different scenarios after reading <a href="http://codewithchris.com/tutorial-using-charles-proxy-with-your-ios-development-and-http-debugging/">this post</a>. I&#8217;d like to try building automated specs (given our experience above) but in the meantime this has been invaluable for throwing different situations at the app to try and break it.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/06/dev-diary-6th-june-2014/">Dev Diary - 6th June 2014</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-06T07:33:00+01:00" pubdate data-updated="true">Jun 6<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>In-app Purchase</h2>

<p>Turns out that we need to implement some form of in-app purchase on our app in order to get into the app store. It can be frustrating with Apple because, despite giving us this guidance, they cannot give us a clear &#8216;yes&#8217; or &#8216;no&#8217; in principal until we submit. Because of this we focused on a minimal implementation and have almost completed the work with a week left in our current sprint.</p>

<p>We used the <a href="https://github.com/j3k0/PhoneGap-InAppPurchase-iOS">iOS In-App Purchase</a> plugin for Cordova/PhoneGap which works with both old and new receipt styles. Because we&#8217;re targeting iOS 7, we don&#8217;t need to have any server side components. Overall I&#8217;ve enjoyed digging into the IAP side of iOS dev - in particular the &#8220;Using Store Kit for In-App Purchases&#8221; video from <a href="https://developer.apple.com/videos/wwdc/2013/">WWDC 2013</a> really solidified my understanding.</p>

<h2>I18n with gettext</h2>

<p>Internationalization is a big deal for us as we largely target Japanese &amp; Chinese users. We&#8217;ve had a few ways approaching this in the past and all have become difficult to work with.</p>

<p><a href="https://twitter.com/timpeat">Tim</a> did some research and suggested we try out the old standard <a href="http://www.gnu.org/software/gettext/">gettext</a>. The benefit here is that the toolchain is highly advanced but the actual usage is very straight forward. It also uses standards that our translators are familiar with. I&#8217;m also impressed how simple the integration with code is. Having base keys of actual text means that code makes more sense to read:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">heading</span> <span class="o">=</span> <span class="nx">I18n</span><span class="p">.</span><span class="nx">gettext</span><span class="p">(</span><span class="s1">&#39;Welcome to my site&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>I wrapped up the <a href="https://github.com/zaach/jsxgettext">jsxgettext</a> npm module in a singleton that we could <code>require</code> through out the code where needed. Handlebars integration was very simple:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">Handlebars</span><span class="p">.</span><span class="nx">registerHelper</span><span class="p">(</span><span class="s1">&#39;tr&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">text</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">translation</span> <span class="o">=</span> <span class="nx">I18n</span><span class="p">.</span><span class="nx">gettext</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>   <span class="k">return</span> <span class="nx">translation</span><span class="p">;</span>
</span><span class='line'><span class="p">},</span> <span class="k">this</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>We can then extract translations into <code>.pot</code> files and use gettext&#8217;s <code>msgmerge</code> to handle merging &amp; building of locale <code>.po</code> files.</p>

<h2>Appium</h2>

<p>Our apps automated UI specs have been pretty flaky for a while. Many times a day we&#8217;d get failures from <a href="https://travis-ci.com/">Travis</a> because the simulator was just hanging or didn&#8217;t even boot. Thankfully <a href="http://appium.io/">Appium 1.0</a> dropped a few of weeks ago and the improvements looked promising. <a href="https://twitter.com/morgan_randy">Randy</a> set out getting our cucumber steps inline with the new API and so far everything has been running very smoothly.</p>

<h2>Swift</h2>

<p>Like many, many developers I was super excited after the <a href="http://www.apple.com/apple-events/june-2014/">Apple keynote</a> on Monday. As well as taking a look at the new APIs I&#8217;ve been working through the <a href="https://developer.apple.com/library/prerelease/ios/documentation/swift/conceptual/swift_programming_language/TheBasics.html">Swift language guide</a>. Just getting familiar with the syntax and approach for now but I&#8217;m looking forward to writing some actual code in it soon. It&#8217;s great to see Apple moving on something like this and exciting to see another platform going in a functional programming direction.</p>

<h2>Reading</h2>

<p>I&#8217;ve read Ilya Grigorik&#8217;s <a href="https://www.igvita.com/2014/05/05/minimum-viable-block-chain/">Minimum Viable Block Chain</a> post multiple times this week - really interesting tech explained clearly. It&#8217;s made me think about ways to apply the concepts behind crypto currencies to other areas that have similar problem sets. Establishing validity and history is not limited to financial transactions.</p>

<h2>Listening</h2>

<p>I loved Radiolabs episode <a href="http://www.radiolab.org/story/things/">&#8220;Things&#8221;</a>. As always, interesting stories with lots to think about afterwards. I used to be very attached to &#8220;things&#8221; in the past and while I&#8217;ve improved, this episode really made me think about how more I could let go of.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/16/dev-diary-16th-may-2014/">Dev Diary - 16th May 2014</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-16T07:33:00+01:00" pubdate data-updated="true">May 16<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Analytics</h2>

<p>This week was mostly about analytics. I worked on <a href="https://github.com/danwilson/google-analytics-plugin/pull/22">updating and adding UserId features</a> to Dan Wilson&#8217;s <a href="https://github.com/danwilson/google-analytics-plugin">Cordova Google Analytics plugin</a>.</p>

<p>Overall I&#8217;m pleased with the result but the workflow of Cordova plugins is not straight forward, especially as there is no standard way to build a test suite. This meant manual testing all the way, reloading plugins in my actual app for each platform in order to test.</p>

<p>I&#8217;d like to hear about testing Cordova plugins - even at a unit level as it would make the process much slicker. I&#8217;ve had a few ideas so I may investigate myself at some point.</p>

<h2>Language Overload</h2>

<p>I&#8217;ve enjoyed the variation in programming languages I&#8217;ve had this week. Combining work on our app, the plugin work and personal study I&#8217;ve written a fair amount of C, C#, Objective-C, Java, Javascript &amp; Ruby.</p>

<h2>Back to Rails</h2>

<p>I&#8217;ve been away from regular Rails dev for quite a while so it was nice to get back by doing some upgrade work on a CMS app that I host for our <a href="http://www.nctmedway.org.uk">local NCT</a>. It was fairly painless to upgrade the app from 3.0.1 to 4.1 and along the way I got a good feel for the recent changes.</p>

<h2>Listening</h2>

<p>The Ruby Rouges had <a href="https://twitter.com/jewelia">Julia Grace</a> on to talk about <a href="http://rubyrogues.com/156-rr-hardware-hacking-with-julia-grace/">hardware hacking</a>.</p>

<p><a href="http://5by5.tv/directional/11">Directional</a> did a 2 hour long commentary of the Nintendo DS keynote from 10 years ago.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/09/notes-from-number-istdddead/">Notes From #isTDDDead?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-09T17:04:00+01:00" pubdate data-updated="true">May 9<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I worried that I was going to find the discussion between <a href="http://twitter.com/dhh">DHH</a>, <a href="http://twitter.com/kentbeck">Kent Beck</a> and <a href="http://twitter.com/martinfowler">Martin Fowler</a> annoying but I actually really enjoyed it. Well worth <a href="https://plus.google.com/events/ci2g23mk0lh9too9bgbp3rbut0k">watching</a>.</p>

<p>Kent &amp; Martin&#8217;s responses seemed quite surprising to DHH who appears to have had a very dogmatic experience of TDD. The daily use of the guys that were influential in the popularisation of the techniques were more pragmatic than many people will have imagined.</p>

<p>I look forward to the next discussion where I think we&#8217;ll get into the meat of TDD.</p>

<p>I wrote a number of headline points for your enjoyment!</p>

<h2>Kent Beck</h2>

<ul>
<li>If an idea is bad, find a cheap way to try it</li>
<li>Programmers have a right to feel confident about their code</li>
<li>TDD is one way to achieve confidence</li>
<li>Mixing techniques - some TDD, some not is totally fine - it&#8217;s powerful tool</li>
<li>TDD is often about trade offs</li>
<li>Don&#8217;t twist design to make it testable</li>
<li>Generally doesn&#8217;t mock anything

<ul>
<li>Mocking can couple you to implementation which too high a price</li>
<li>Repeatable feedback loop is far more important</li>
</ul>
</li>
</ul>


<h2> DHH</h2>

<ul>
<li>Dogma in TDD circles is big problem (i.e. you <em>must</em> TDD 100% to be a &#8216;professional&#8217;)</li>
<li>Mocking forces unnatural structure, supporting tests instead of code</li>
<li>&#8220;Easy to test == better design&#8221; is a fallacy</li>
<li>Understandability is often compromised</li>
</ul>


<h2>Martin Fowler</h2>

<ul>
<li>TDD does not imply isolation or mocking</li>
<li>Self-testing code is one of the most important things to deliver - TDD is one approach and it has other benefits</li>
</ul>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/09/dev-diary-9th-may-2014/">Dev Diary - 9th May 2014</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-09T07:32:00+01:00" pubdate data-updated="true">May 9<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Android woes</h2>

<p>Mostly fighting off Android issues with our audio player component. Cordova&#8217;s <a href="https://github.com/apache/cordova-plugin-media">Media plugin</a> is a little difficult to work with as it&#8217;s very much written to work with older iOS APIs. This seems to have influenced how the other platform integrations work.</p>

<p>There are very limited event callbacks as the audio plays so I have to keep track of playing using a timer:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="k">this</span><span class="p">.</span><span class="nx">timer</span> <span class="o">=</span> <span class="nx">setInterval</span><span class="p">(</span><span class="nx">_</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">updatePlayerStatus</span><span class="p">,</span> <span class="k">this</span><span class="p">),</span> <span class="mi">1000</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>I can&#8217;t rely on the timer for position data so I get it using <code>getCurrentPosition</code>:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="nx">updatePlayerStatus</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="k">this</span><span class="p">.</span><span class="nx">player</span><span class="p">.</span><span class="nx">getCurrentPosition</span><span class="p">(</span><span class="nx">_</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">position</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    <span class="c1">// update UI</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Trouble is this sometimes leads to the UI being out of sync with the audio.</p>

<p>I&#8217;m also not happy with my UI implementation as it uses a native web form slider. This was a quick implementation but it needs workarounds to get a &#8216;played&#8217; track - which can be a little flaky.</p>

<h2>Android joys</h2>

<p>On a more positive note, I&#8217;ve found the joy of <a href="https://developer.chrome.com/devtools/docs/remote-debugging">remote debugging on Android</a>. I&#8217;m used to this on iOS of course but the Android tools are even better. Safari&#8217;s remote inspector constantly disappears and you don&#8217;t get any console logging that occurs prior to opening the inspector. Very impressed with Android here.</p>

<h2>Listening</h2>

<p>I&#8217;ve mentioned <a href="http://www.imore.com/debug">Debug</a> before; they have great interviews with developers about their history &amp; work. This week they <a href="http://www.imore.com/debug-35-scotty-nsconference-and-remobjects">interviewed Scotty</a> of NSConference and iDeveloper fame.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/05/02/dev-diary-2nd-may-2014/">Dev Diary - 2nd May 2014</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-05-02T07:42:00+01:00" pubdate data-updated="true">May 2<span>nd</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A little slow this week while we debate largely non-technical issues with Apple. Doubling-down on Android is the order of the week.</p>

<hr />

<p>On a more positive front we had a very successful deploy of a huge improvement to the most important part of our service. It was a multi-app deploy and has so far gone off without a hitch. This is how it <em>should</em> be of course but you can never be 100% until it&#8217;s in the wild. As well as <a href="http://twitter.com/morgan_randy">Randy&#8217;s</a> awesome code we also did quite a bit of manual testing and a detailed code review.</p>

<h2>Listening</h2>

<p><a href="https://twitter.com/glassbottommeg">Megan Fox</a> discussed game dev on this week&#8217;s <a href="http://www.rubyrogues.com">Ruby Rouges</a> which was low on Ruby but and interesting insight into an industry so different to the web dev I&#8217;m used to.</p>

<p>I literally cried listening to <a href="https://twitter.com/ProfSaraSeager">Sara Seager</a> on <a href="http://storycollider.org/podcast/2014-04-30">Story collider</a>. The episode is funny, tragic but also beautifully inspiring - impressive for only 16 minutes.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Stephen Bartholomew -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'stephenbartholomew';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-30521926-1', 'stephenbartholomew.co.uk');
  ga('send', 'pageview');

</script>


</body>
</html>
